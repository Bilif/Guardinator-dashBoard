<div class="app flex-row align-items-center">
  <div class="app-body">

    <!-- Main content -->
    <main class="main">
      <div nz-row [nzGutter]="16">
        <div nz-col>
            <nz-card>
              <ng-template #body>
                  <div echarts [options]="bar1" style="width:100%;height:250px" class="bar1-wrapper"></div>
              </ng-template>
            </nz-card>
         
          </div>
      </div>
      <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="12" class="pie-card">
          <nz-card>
              <ng-template #title>
                <span class="chart-title">检测评分分析</span>
                <div class="select-wrapper">
                  <nz-select style="width: 100px" [nzSize]="size" [nzPlaceHolder]="selectOption1[0].label" [(ngModel)]="curCar">
                    <nz-option
                      *ngFor="let option of selectOption1"
                      [nzLabel]="option.label"
                      [nzValue]="option.value"
                      [nzDisabled]="option.disabled">
                    </nz-option>
                  </nz-select>
                  <nz-select style="width: 100px" [nzSize]="size" [nzPlaceHolder]="selectOption2[0].label">
                    <nz-option
                      *ngFor="let option of selectOption2"
                      [nzLabel]="option.label"
                      [nzValue]="option.value"
                      [nzDisabled]="option.disabled">
                    </nz-option>
                  </nz-select>
                </div>
              </ng-template>
              <ng-template #body>
                  <div nz-row>
                    <span>{{curCar}}</span>
                  </div>
                  <div nz-row class="pie-fit-width">
                    <div nz-col [nzSpan]="8">
                      <div echarts [options]="pie1" style="width:100%;height:200px"></div>
                    </div>
                    <div nz-col [nzSpan]="8">
                        <div echarts [options]="pie2" style="width:100%;height:200px"></div>
                    </div>
                    <div nz-col [nzSpan]="8">
                        <div echarts [options]="pie3" style="width:100%;height:200px"></div>
                    </div>
                  </div>
                  <div nz-row class="pie-fit-width">
                    <div nz-col [nzSpan]="8">
                        <div echarts [options]="pie4" style="width:100%;height:200px"></div>
                    </div>
                    <div nz-col [nzSpan]="8">
                        <div echarts [options]="pie5" style="width:100%;height:200px"></div>
                    </div>
                    <div nz-col [nzSpan]="8">
                      <div class="pie-des">
                        <div class="txt">占比=</div>
                        <div class="txt">
                          <div class="top">获得该分数的次数</div>
                          <div class="bottom">检测次数</div>
                        </div>
                      </div>
                    </div>
                  </div>
              </ng-template>
          </nz-card>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-card>
            <ng-template #title>
                <span class="chart-title">检测结果查询</span>
                <div class="select-wrapper">
                  <nz-select style="width: 100px" [nzSize]="size" [nzPlaceHolder]="selectOption3[0].label">
                    <nz-option
                      *ngFor="let option of selectOption3"
                      [nzLabel]="option.label"
                      [nzValue]="option.value"
                      [nzDisabled]="option.disabled">
                    </nz-option>
                  </nz-select>
                </div>
            </ng-template>
            <ng-template #body>
                <nz-table #nzTable [nzDataSource]="detectResults" [nzIsPagination]="false">
                  <thead nz-thead>
                    <tr>
                      <th nz-th>
                        <span>车型</span>
                        <customer-filter-dropdown (searchEmitter)="search($event,'type')"></customer-filter-dropdown>
                      </th>
                      <th nz-th>
                        <span>检测时间</span>
                        <customer-filter-dropdown (searchEmitter)="search($event,'time')"></customer-filter-dropdown>
                      </th>
                      <th nz-th>
                        <span>车牌</span>
                        <customer-filter-dropdown (searchEmitter)="search($event,'license')"></customer-filter-dropdown>
                      </th>
                      <th nz-th><span>检测报告</span></th>
                    </tr>
                  </thead>
                  <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let data of nzTable.data">
                      <td nz-td>{{data.type}}</td>
                      <td nz-td>{{data.time}}</td>
                      <td nz-td>
                        {{data.license}}
                        <i class="anticon anticon-exclamation-circle-o"></i>
                      </td>
                      <td nz-td>
                        <i class="anticon anticon-file-text"></i>
                      </td>
                    </tr>
                  </tbody>
                </nz-table>
                <button nz-button [nzType]="'primary'" class="export-btn" (click)="exportExcel()">
                  <span>导出</span>
                </button>
            </ng-template>
          </nz-card>
        </div>
      </div>
    </main>

  </div>
</div>






